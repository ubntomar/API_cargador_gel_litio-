# =============================================================================
# ESP32 Solar Charger API - Configuraci√≥n de Entorno (EJEMPLO)
# =============================================================================
# INSTRUCCIONES DE USO:
# 1. Copia este archivo como .env
# 2. Modifica los valores seg√∫n tu hardware
# 3. Ejecuta: docker-compose up -d

# ============ CONFIGURACI√ìN B√ÅSICA ============
DEBUG=false
HOST=0.0.0.0
PORT=8000

# ============ CONFIGURACI√ìN SERIAL ============
# üîß PUERTO SERIAL - Modificar seg√∫n tu dispositivo:
# Orange Pi R2S (RISC-V): /dev/ttyUSB0, /dev/ttyUSB1, /dev/ttyS5
# Raspberry Pi (ARM): /dev/ttyACM0, /dev/ttyUSB0  
# PC Linux (x86): /dev/ttyUSB0, /dev/ttyACM0
# SERIAL_PORT=/dev/ttyS5        # Orange Pi R2S
SERIAL_PORT=/dev/ttyUSB0        # Default para mayor√≠a de dispositivos

SERIAL_BAUDRATE=9600
SERIAL_TIMEOUT=3.0

# ============ CONFIGURACI√ìN MULTI-CPU (NUEVO) ============
# üöÄ CONFIGURACI√ìN AUTOM√ÅTICA DE CPU - Compatible con cualquier arquitectura
# Valores permitidos:
#   auto     = Detecci√≥n autom√°tica (RECOMENDADO)
#   1,2,4,6,8 = N√∫mero espec√≠fico de workers
MAX_WORKERS=auto

# üîß L√çMITE DE CPU PARA DOCKER
# Valores permitidos:
#   auto     = Detecci√≥n autom√°tica (RECOMENDADO)  
#   1.0,2.0,4.0,6.0,8.0 = L√≠mite espec√≠fico de CPUs
CPU_LIMIT=auto

# üíæ L√çMITE DE MEMORIA
# Valores permitidos:
#   auto     = Detecci√≥n autom√°tica (RECOMENDADO)
#   512m,1g,2g = L√≠mite espec√≠fico de memoria
MEMORY_LIMIT=auto

# üîß FORZAR MODO SINGLE-WORKER (para debugging o compatibilidad)
# Usar solo si tienes problemas con multi-worker
FORCE_SINGLE_WORKER=false

# ============ CONFIGURACI√ìN REDIS ============
REDIS_URL=redis://esp32-redis:6379

# ============ RATE LIMITING ============
MIN_COMMAND_INTERVAL=0.6
MAX_REQUESTS_PER_MINUTE=60

# ============ CACHE ============
CACHE_TTL=2

# ============ LOGGING ============
LOG_LEVEL=INFO
LOG_FILE=logs/esp32_api.log

# ============ ZONA HORARIA ============
TZ=America/Bogota

# ============ EJEMPLOS DE CONFIGURACI√ìN POR HARDWARE ============
# 
# üñ•Ô∏è PC Desktop/Laptop x86_64 (4-8 cores):
# MAX_WORKERS=auto
# CPU_LIMIT=auto
# MEMORY_LIMIT=auto
#
# üçì Raspberry Pi 4 ARM (4 cores):
# MAX_WORKERS=2
# CPU_LIMIT=3.0
# MEMORY_LIMIT=1g
#
# üçä Orange Pi R2S RISC-V (8 cores):
# MAX_WORKERS=4
# CPU_LIMIT=6.0
# MEMORY_LIMIT=1512m
#
# üîß Modo desarrollo/debugging:
# MAX_WORKERS=1
# CPU_LIMIT=2.0
# MEMORY_LIMIT=512m
# FORCE_SINGLE_WORKER=true
